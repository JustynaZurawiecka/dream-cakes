(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),o=a(14),u=a(21),i=a(29),s=a(54),m=a(33),p=a(8),d=a(15),E=a.n(d),f=a(27),_=a(32),O=a.n(_),b="http://localhost:8000/api",g=function(e){return e.products.request},h=function(e){return e.products.singleProduct},v=function(e){return"app/".concat("products","/").concat(e)},y=v("START_REQUEST"),j=v("END_REQUEST"),D=v("ERROR_REQUEST"),N=v("LOAD_PRODUCTS"),w=v("LOAD_PRODUCT"),R=v("CLEAR_CART"),k=v("UPDATE_CART"),C=function(){return{type:y}},S=function(){return{type:j}},x=function(e){return{error:e,type:D}},T={data:[],request:{pending:!1,error:null,success:null},singleProduct:null,cart:null};console.log(T,"initialState");var z=a(26),P=function(e){return"app/".concat("orders","/").concat(e)},A=P("START_REQUEST"),q=P("END_REQUEST"),U=P("ERROR_REQUEST"),I=P("ADD_ORDER"),F=P("UPDATE_ORDER"),L=function(e){return{payload:e,type:q}},Q=function(e){return{payload:e,type:U}},K=function(e){return{payload:e,type:I}},M={data:[],requests:[]};var W=Object(i.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case k:return Object(p.a)({},e,{cart:t.payload});case R:return Object(p.a)({},e,{singleProduct:null});case w:return Object(p.a)({},e,{singleProduct:t.payload});case N:return Object(p.a)({},e,{data:Object(m.a)(t.payload)});case y:return Object(p.a)({},e,{request:{pending:!0,error:null,success:!1}});case j:return Object(p.a)({},e,{request:{pending:!1,error:null,success:!0}});case D:return Object(p.a)({},e,{request:{pending:!1,error:t.error,success:!1}});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:case F:return Object(p.a)({},e,{data:[].concat(Object(m.a)(e.data),[t.payload])});case A:return Object(p.a)({},e,{requests:Object(p.a)({},e.requests,Object(z.a)({},t.payload.name,{pending:!0,error:null,success:!1}))});case q:return Object(p.a)({},e,{requests:Object(p.a)({},e.requests,Object(z.a)({},t.payload.name,{pending:!1,error:null,success:!0}))});case U:return Object(p.a)({},e,{requests:Object(p.a)({},e.requests,Object(z.a)({},t.payload.name,{pending:!1,error:t.payload.error,success:!1}))});default:return e}}}),X=Object(i.e)(W,Object(i.d)(Object(i.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Z=a(18),G=a(19),J=a(22),V=a(20),Y=a(23),B=a(28),H=a(107),$=a(108),ee=a(109),te=a(110),ae=a(111),ne=a(112),re=a(113),ce=a(114),le=a(40),oe=(a(85),function(e){function t(){var e,a;Object(Z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(J.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement($.a,{href:"/"},"DREAM CAKE ",r.a.createElement(le.a,null)),r.a.createElement(ee.a,{onClick:this.toggle}),r.a.createElement(te.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(ae.a,{className:"ml-auto align-items-center",navbar:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/go-to-cart"},r.a.createElement(ce.a,{outline:!0,color:"primary"},r.a.createElement(le.b,null))))))))}}]),t}(r.a.Component)),ue=function(){return r.a.createElement("footer",{id:"sticky-footer",className:"py-4 mt-5 bg-dark text-white-50"},r.a.createElement("div",{className:"text-center"},r.a.createElement("small",null,"2021 \xa9 Dream Cake")))},ie=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(oe,null),t,r.a.createElement(ue,null))},se=a(118),me=a(124),pe=(a(93),[{src:"/img/promo/promo1.jpeg",header:"TORTY WESELNE",caption:"Tutaj kupisz sw\xf3j wymarzony tort",alt:"torty weselne"},{src:"/img/promo/promo6.jpeg",header:"TORTY URODZINOWE",caption:"Pieczemy na zam\xf3wienie",altText:"torty urodzinowe"},{src:"/img/promo/gofry.jpeg",header:"INNE S\u0141ODKO\u015aCI",caption:"Zapraszamy do zakupu ciast i ciasteczek na ka\u017cd\u0105 okazj\u0119",altText:"slodkosci"}]),de=function(){return r.a.createElement(me.a,{className:"promoCarousel",items:pe})},Ee=a(117),fe=a(125),_e=a(115),Oe=a(116),be=(a(94),function(e){var t=e.title,a=e.minPrice,n=e.image,c=e._id;return r.a.createElement("article",{className:"product"},r.a.createElement(_e.a,{noGutters:!0},r.a.createElement(Oe.a,{xs:"6"},r.a.createElement("div",{className:"product__image-container"},r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"/product/"+c},r.a.createElement("img",{className:"product__image-container__img",src:n,alt:t}))))),r.a.createElement(Oe.a,{xs:"6"},r.a.createElement("div",{className:"product__info"},r.a.createElement("img",{className:"product__info__back",src:n,alt:t}),r.a.createElement("h2",{className:"product__info__title"},t),r.a.createElement("p",{className:"product__info__price"},"Cena: ",a)))))}),ge=function(e){var t=e.products;return r.a.createElement("section",null,t.map(function(e){return r.a.createElement(be,Object.assign({key:e._id},e))}))},he=function(e){function t(){return Object(Z.a)(this,t),Object(J.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.loadProducts)()}},{key:"render",value:function(){var e=this.props,t=e.request,a=e.products;return t.pending?r.a.createElement(Ee.a,{animated:!0,color:"primary",value:50}):t.error?r.a.createElement(fe.a,{color:"warning"},t.error):t.success&&a.length?t.success?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{products:a})):void 0:r.a.createElement(fe.a,{color:"info"},"No Data")}}]),t}(r.a.Component),ve=Object(u.b)(function(e){return{products:(t=e,t.products.data),request:g(e)};var t},function(e){return{loadProducts:function(){return e(function(){var e=Object(f.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(C()),e.prev=1,e.next=4,O.a.get("".concat(b,"/products"));case 4:return a=e.sent,e.next=7,new Promise(function(e,t){return setTimeout(e,2e3)});case 7:t({payload:a.data,type:N}),t(S()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(x(e.t0.message));case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}())}}})(he),ye=function(){return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement(se.a,null,r.a.createElement("h1",null,"Oferta ciast i tort\xf3w"),r.a.createElement(ve,null)))},je=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Not Found"))},De=(a(95),function(e){function t(){var e,a;Object(Z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(J.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(r)))).state={count:""},a.handleChange=function(e){console.log(e),a.setState({count:e.target.value})},a.addToCart=function(){var e=a.state.count;localStorage.setItem("count",e)},a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.loadProduct)(this.props.match.params.id);var e=localStorage.getItem("count")||"";this.setState({count:e})}},{key:"render",value:function(){var e=this.props,t=e.request,a=e.product;return t.pending?r.a.createElement(Ee.a,{animated:!0,color:"primary",value:50}):t.error?r.a.createElement(fe.a,{color:"warning"},t.error):t.success&&a?t.success?r.a.createElement(se.a,null,r.a.createElement(_e.a,{noGutters:!0},r.a.createElement(Oe.a,{xs:"6"},r.a.createElement("div",{className:"main__product__image"},r.a.createElement("img",{src:a.image,alt:a.title})),r.a.createElement("div",{className:"sub__product__image"},r.a.createElement("div",{className:"sub__product__image-first"},r.a.createElement("img",{src:a.image,alt:a.title})),r.a.createElement("div",{className:"sub__product__image-second"},r.a.createElement("img",{src:a.image,alt:a.title})),r.a.createElement("div",{className:"sub__product__image-third"},r.a.createElement("img",{src:a.image,alt:a.title})))),r.a.createElement(Oe.a,{xs:"6"},r.a.createElement("div",{className:"product__info"},r.a.createElement("h1",{className:"product__info__title"},a.title),r.a.createElement("p",{className:"product__info__price"},"Cena: ",a.minPrice),r.a.createElement("div",{className:"product__info__count"},r.a.createElement("select",{name:"count",id:"count",value:this.state.count,onChange:this.handleChange},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement(o.b,{to:"/go-to-cart"},r.a.createElement(ce.a,{className:"product__add-button",outline:!0,color:"primary",onClick:this.addToCart},"Dodaj do koszyka"))))),r.a.createElement("h2",{className:"product__info__description-header"},"Opis produktu"),r.a.createElement("p",{className:"product__info__description"},a.description)):void 0:r.a.createElement(fe.a,{color:"info"},"No Data")}}]),t}(r.a.Component)),Ne=Object(u.b)(function(e){return{product:h(e),request:g(e)}},function(e){return{loadProduct:function(t){return e(function(e){return function(){var t=Object(f.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(C()),t.prev=1,t.next=4,O.a.get("".concat(b,"/products/").concat(e));case 4:return n=t.sent,t.next=7,new Promise(function(e,t){return setTimeout(e,2e3)});case 7:a({payload:n.data,type:w}),a(S()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a(x(t.t0.message));case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(De),we=a(41),Re=a(119),ke=(a(101),function(e){var t=e.chosenProduct,a=e.updateCart,c=e.clearCart,l=Object(n.useState)(localStorage.getItem("count")),u=Object(we.a)(l,2),i=u[0],s=u[1],m=Object(n.useState)(""),p=Object(we.a)(m,2),d=p[0],E=p[1],f=i>0?t.price*i:t.price;Object(n.useEffect)(function(){a({title:t.title,inscription:d,count:i,sum:f})},[i,d]);return r.a.createElement("div",{className:"single__product__info"},r.a.createElement(Re.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Produkt"),r.a.createElement("th",null,"Opis"),r.a.createElement("th",null,"Cena jednostkowa"),r.a.createElement("th",null,"Ilo\u015b\u0107*"),r.a.createElement("th",null,"Suma"),r.a.createElement("th",null))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{className:"product__image-container__img",src:t.image,alt:t.title})),r.a.createElement("td",{className:"cart__info__product-title"},t.title),r.a.createElement("td",{className:"cart__info__product-price"},t.price," z\u0142"),r.a.createElement("td",{className:"cart__info__product-count"},r.a.createElement("select",{onChange:function(e){localStorage.removeItem("count"),s(e.target.value)},name:"count",id:"count",value:localStorage.getItem("count")},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))),r.a.createElement("td",{className:"cart__info__total-price"},f," z\u0142"),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/",className:"single__product__info_remove",onClick:c},"USU\u0143 PRODUKT"))))),r.a.createElement("p",{className:"cart__info__product-count_max"},"*Maksymalna ilo\u015b\u0107 zamawianych tort\xf3w to 5. Sprzedajemy torty klientom biznesowym jak i indywidualnym."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("label",null,"Napis na torcie",r.a.createElement("input",{type:"textarea",rows:"2",cols:"20",onChange:function(e){E(e.target.value)}}))))}),Ce=(a(102),function(e){var t=e.singleProduct,a=e.history,c=e.updateCart,l=e.clearCart;return Object(n.useEffect)(function(){t||a.push("/")},[]),t?r.a.createElement(se.a,null,r.a.createElement("h1",null,"Koszyk"),r.a.createElement(ke,{chosenProduct:t,updateCart:c,clearCart:l}),r.a.createElement("div",{className:"cart__info"},r.a.createElement(o.b,{to:"/order-a-product"},r.a.createElement(ce.a,{className:"cart__info__order-button",outline:!0,color:"primary"},"Dalej")))):null}),Se=Object(u.b)(function(e){return{singleProduct:h(e)}},function(e){return{clearCart:function(t){return e({payload:t,type:R})},updateCart:function(t){return e({payload:t,type:k})}}})(Ce),xe=a(120),Te=a(121),ze=a(122),Pe=a(123),Ae=(a(103),function(e){function t(e){var a;return Object(Z.a)(this,t),(a=Object(J.a)(this,Object(V.a)(t).call(this,e))).updateTextField=function(e){var t=e.target,n=a.state.order,r=t.value,c=t.name;a.setState({order:Object(p.a)({},n,Object(z.a)({},c,r))})},a.submitForm=function(){var e=Object(f.a)(E.a.mark(function e(t){var n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.order,r=a.props.addOrder,t.preventDefault(),n.client&&n.email?(r(n),a.setState({order:{title:"",count:0,inscription:"",client:"",email:"",sum:0},isError:!1})):a.setState({isError:!0});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={order:{title:"",sum:2,count:1,inscription:"",client:"",email:""},isError:!1},a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.updateTextField,t=this.submitForm,a=this.props,n=a.requests,c=a.cart,l=this.state,o=l.order,u=l.isError;return r.a.createElement(xe.a,{className:"order-ticket-form",onSubmit:t},r.a.createElement(_e.a,null,r.a.createElement(Oe.a,{xs:"12",md:"6"},r.a.createElement("p",null,"Wybrany tort:",r.a.createElement("span",null,c?c.title:"")),r.a.createElement("p",null,"Ilosc:",r.a.createElement("span",null,c?c.count:1)),r.a.createElement("p",null,"Suma: ",r.a.createElement("span",null,c?c.sum:1," PLN")),r.a.createElement("p",null,"Napis na torcie: ",r.a.createElement("span",null,c?c.inscription:""))),r.a.createElement(Oe.a,{xs:"12",md:"6"},u&&r.a.createElement(fe.a,{color:"warning"},"Nie uda\u0142o si\u0119 z\u0142o\u017cy\u0107 zam\xf3wienia. Upewnij si\u0119, \u017ce wszystkie pola zosta\u0142y wype\u0142nione. "),n.ADD_ORDER&&n.ADD_ORDER.error&&!u&&r.a.createElement(fe.a,{color:"danger"},n.ADD_ORDER.error),n.ADD_ORDER&&n.ADD_ORDER.success&&!u&&r.a.createElement(fe.a,{color:"success"},"Super! Zam\xf3wienie zosta\u0142o z\u0142o\u017cone pomy\u015blnie."),n.ADD_ORDER&&n.ADD_ORDER.pending&&r.a.createElement(Ee.a,{animated:!0,className:"mb-5",color:"primary",value:75}),r.a.createElement(Te.a,null,r.a.createElement(ze.a,{for:"clientEmail"},"Imi\u0119 i nazwisko"),r.a.createElement(Pe.a,{type:"text",value:o.client,name:"client",onChange:e,id:"clientName"})),r.a.createElement(Te.a,null,r.a.createElement(ze.a,{for:"clientEmail"},"Email"),r.a.createElement(Pe.a,{type:"email",value:o.email,name:"email",onChange:e,id:"clientEmail"})),r.a.createElement(ce.a,{color:"primary",className:"mt-3"},"Finalizuj zam\xf3wienie"))))}}]),t}(r.a.Component)),qe=Object(u.b)(function(e){return{requests:(a=e,a.orders.requests),cart:(t=e,t.products.cart)};var t,a},function(e){return{addOrder:function(t){return e(function(e){return function(){var t=Object(f.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({payload:{name:"ADD_ORDER"},type:A}),t.prev=1,t.next=4,O.a.post("".concat(b,"/orders"),e);case 4:return n=t.sent,t.next=7,new Promise(function(e){return setTimeout(e,1e3)});case 7:a(K(n)),a(L({name:"ADD_ORDER"})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a(Q({name:"ADD_ORDER",error:t.t0.message}));case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(Ae),Ue=function(){return r.a.createElement(se.a,null,r.a.createElement("h1",null,"Podsumowanie zam\xf3wienia"),r.a.createElement(qe,null))},Ie=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Koszyk jest pusty"),r.a.createElement(o.b,{to:"/"},"Wr\xf3\u0107 do strony g\u0142\xf3wnej"))},Fe=function(e){function t(){return Object(Z.a)(this,t),Object(J.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement(ie,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{path:"/",exact:!0,component:ye}),r.a.createElement(B.a,{path:"/product/:id",exact:!0,component:Ne}),r.a.createElement(B.a,{path:"/go-to-cart",exact:!0,component:Se}),r.a.createElement(B.a,{path:"/order-a-product",exact:!0,component:Ue}),r.a.createElement(B.a,{component:je}),r.a.createElement(B.a,{path:"/cart",exact:!0,component:Ie})))}}]),t}(r.a.Component);a(104),a(105);l.a.render(r.a.createElement(function(){return r.a.createElement(u.a,{store:X},r.a.createElement(o.a,null,r.a.createElement(Fe,null)))},null),document.getElementById("root"))},56:function(e,t,a){e.exports=a(106)},85:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.3bcfb206.chunk.js.map